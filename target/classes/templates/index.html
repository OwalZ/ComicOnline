<html
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{fragments/layout :: layout(~{::title}, ~{::main})}"
>
  <head>
    <title>Inicio - ComicOnline</title>
  </head>
  <main>
    <!-- HERO NUEVO -->
    <section class="hero anim-fade-up mb-5 position-relative overflow-hidden">
      <div class="row align-items-center g-4">
        <div class="col-xl-6">
          <div class="d-flex flex-column gap-3">
            <h1 class="display-5 fw-bold m-0 lh-tight">
              Explora, lee y guarda tus
              <span class="section-title">c√≥mics y manga</span>
              favoritos
            </h1>
            <p class="lead text-dim m-0">
              Una experiencia r√°pida tipo app: cat√°logo h√≠brido local +
              comunidad externa, lector inmersivo y progreso en tus favoritos.
            </p>
            <div class="d-flex flex-wrap gap-3 pt-2">
              <a class="btn btn-gradient btn-lg px-4" th:href="@{/comics}"
                >Explorar cat√°logo</a
              >
              <a
                class="btn btn-outline-frost btn-lg px-4"
                th:href="@{/register}"
                sec:authorize="isAnonymous()"
                >Crear cuenta</a
              >
              <a
                class="btn btn-outline-frost btn-lg px-4"
                th:href="@{/favorites}"
                sec:authorize="isAuthenticated()"
                >Ir a favoritos</a
              >
            </div>
            <div class="d-flex gap-3 small text-dim flex-wrap pt-1">
              <span>‚ö° Lector r√°pido</span><span>üóÇÔ∏è Favoritos y progreso</span
              ><span>üåê Multilenguaje</span><span>üîç B√∫squeda extendida</span>
            </div>
          </div>
        </div>
        <div class="col-xl-6 d-none d-xl-block">
          <div class="glass p-4 rounded-4 h-100" style="min-height: 320px">
            <h3 class="h6 text-dim mb-3 text-uppercase">Novedades</h3>
            <ul class="list-unstyled m-0 small feature-list">
              <li>‚Ä¢ Favoritos externos con progreso de cap√≠tulo</li>
              <li>‚Ä¢ Lector flotante con miniaturas</li>
              <li>‚Ä¢ B√∫squeda global instant√°nea (local)</li>
              <li>‚Ä¢ App Shell adaptativa y modo tem√°tico</li>
            </ul>
            <div class="mt-4 small text-dim fst-italic">
              M√°s caracter√≠sticas pr√≥ximamente.
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCION DESTACADOS -->
    <section class="anim-fade-up mb-5">
      <div class="d-flex align-items-center mb-3 gap-3 flex-wrap">
        <h2 class="section-title h4 m-0">Destacados</h2>
        <a
          th:href="@{/comics}"
          class="small text-dim ms-auto text-decoration-none"
          >Ver todo ‚Üí</a
        >
      </div>
      <div class="grid-auto-fill">
        <div
          th:each="c : ${comics}"
          class="card h-100 highlight-card"
          data-local
        >
          <div
            class="ratio ratio-4x3 position-relative overflow-hidden cover-ph"
          >
            <div
              class="ph-inner d-flex align-items-center justify-content-center text-dim"
            >
              Portada
            </div>
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title mb-1" th:text="${c.title}"></h5>
            <p class="small text-dim mb-3" th:text="${c.author}"></p>
            <a
              th:href="@{'/comics/' + ${c.id}}"
              class="mt-auto btn btn-outline-frost btn-sm stretched-link"
              >Detalle</a
            >
          </div>
        </div>
        <div
          th:if="${#lists.isEmpty(comics) and extFeatured != null}"
          th:each="e : ${extFeatured}"
          class="card h-100"
          data-ext
        >
          <div
            class="ratio ratio-4x3 bg-dark-subtle d-flex align-items-center justify-content-center overflow-hidden"
          >
            <img
              th:if="${e.coverUrl}"
              th:src="${e.coverUrl}"
              loading="lazy"
              decoding="async"
              style="width: 100%; height: 100%; object-fit: cover"
            />
            <div th:if="${e.coverUrl == null}" class="text-dim small">
              Sin portada
            </div>
          </div>
          <div class="card-body d-flex flex-column">
            <h5 class="card-title mb-1">
              <span class="badge badge-frost me-1">EXT</span
              ><span th:text="${e.title}"></span>
            </h5>
            <p class="small text-dim mb-3">MangaDex</p>
            <button class="btn btn-outline-frost btn-sm mt-auto" disabled>
              Ver
            </button>
          </div>
        </div>
        <div
          th:if="${#lists.isEmpty(comics) and (extFeatured == null or #lists.isEmpty(extFeatured))}"
          class="text-dim"
        >
          No hay c√≥mics disponibles.
        </div>
      </div>
    </section>

    <!-- CATEGORIAS MOCK -->
    <section class="anim-fade-up mb-5">
      <div class="d-flex align-items-center mb-3 gap-3 flex-wrap">
        <h2 class="section-title h5 m-0">Categor√≠as Populares</h2>
      </div>
      <div class="d-flex flex-wrap gap-2 small">
        <span class="badge badge-frost px-3 py-2">Acci√≥n</span>
        <span class="badge badge-frost px-3 py-2">Aventura</span>
        <span class="badge badge-frost px-3 py-2">Fantas√≠a</span>
        <span class="badge badge-frost px-3 py-2">Sci-Fi</span>
        <span class="badge badge-frost px-3 py-2">Drama</span>
        <span class="badge badge-frost px-3 py-2">Comedia</span>
        <span class="badge badge-frost px-3 py-2">Romance</span>
        <span class="badge badge-frost px-3 py-2">Terror</span>
      </div>
    </section>

    <!-- CTA FINAL -->
    <section class="anim-fade-up" sec:authorize="isAnonymous()">
      <div class="glass p-4 p-md-5 rounded-4 text-center">
        <h3 class="h4 fw-bold mb-3">¬øListo para continuar leyendo?</h3>
        <p class="text-dim mb-4 small">
          Inicia sesi√≥n para sincronizar progreso y gestionar tus favoritos
          externos.
        </p>
        <div class="d-flex flex-wrap justify-content-center gap-3">
          <a th:href="@{/login}" class="btn btn-outline-frost btn-lg px-4"
            >Login</a
          >
          <a th:href="@{/register}" class="btn btn-gradient btn-lg px-4"
            >Crear cuenta</a
          >
        </div>
      </div>
    </section>
  </main>
</html>
